# 项目使用说明

## 包结构

### dsp-enterprise-common 模块
公共类, 如: 枚举, 配置, 工具类等
### dsp-enterprise-console 模块
接口类
### dsp-enterprise-service 模块
服务类, 过滤器配置类

## 接口编写

### 接口类,路径: com.inspur.dsp.direct.console.controller下新建模块目录,再新建类

1. 继承 BaseController
2. 加注解
- @Slf4j
- @RestController()
- @RequestMapping("/userlog")

### 接口中的方法

1. 加注解

- @GetMapping("/test")
- @RespAdvice  响应增强注解,会自动包装返回对象,不加注解,需要自己封装统一响应对象 com/inspur/dsp/direct/domain/Resp.java
- @SysLog(title = "测试页面", modelName = "测试接口") 用户操作日志记录注解,会自动记录方法操作日志,无日志环境则可以不加
- 可看UserLogController下的addUserLog()方法

## mapper位置说明,新建时候,建议分业务类型按包分类

1. dao位置: com.inspur.dsp.direct.dao
2. mapper位置: src/main/resources/mapper
3. 实体类位置: com.inspur.dsp.direct.dbentity

## 数据对象说明,建议尽量不要使用map,或者jsonObject包装数据对象,会导致代码阅读困难,可在dto,vo,bo包,分别存放请求对象,响应对象,交互对象

1. 请求对象位置: com.inspur.dsp.direct.entity.dto
2. 响应对象位置: com.inspur.dsp.direct.entity.vo
3. 交互对象位置: com.inspur.dsp.direct.entity.bo

## 配置说明

### UserInfoFilter 判断用户是否登录过滤器

测试接口时,需要先登录获取cookie,在浏览器中查看,在postman中,在header中添加cookie,key为SESSION,value为cookie值

### 分页插件,使用的mybatis-plus集成的分页插件

### 数据库密码加密,使用的jasypt,要生成密码

com.inspur.dsp.direct.console.test.AppTest 测试类下的 encryption 方法生成加密密码

配置文件中 ENC(加密后密码)
